"use strict";(self.webpackChunkcurrency_exchanger=self.webpackChunkcurrency_exchanger||[]).push([[592],{6764:(h,u,r)=>{r.d(u,{m:()=>S});var a=r(4006),n=r(4650),m=r(8824),l=r(9299),_=r(2227),i=r(6895),x=r(3238),d=r(4859),C=r(7392),p=r(9549),y=r(4144),F=r(4385),g=r(1576),v=r(5829);function O(o,s){1&o&&(n.TgZ(0,"span"),n._uU(1,"xx.xx"),n.qZA())}function E(o,s){if(1&o&&(n.TgZ(0,"span"),n._uU(1),n.ALo(2,"number"),n.qZA()),2&o){const t=n.oxw();n.xp6(1),n.Oqu(n.xi3(2,1,null==t.conversionInfo?null:t.conversionInfo.rate,"0.2-6"))}}function M(o,s){if(1&o&&(n.TgZ(0,"mat-option",24),n._uU(1),n.qZA()),2&o){const t=s.$implicit;n.Q6J("value",t.key),n.xp6(1),n.hij(" ",t.value," ")}}function P(o,s){if(1&o&&(n.TgZ(0,"mat-option",24),n._uU(1),n.qZA()),2&o){const t=s.$implicit;n.Q6J("value",t.key),n.xp6(1),n.hij(" ",t.value," ")}}function A(o,s){if(1&o){const t=n.EpF();n.TgZ(0,"div",3)(1,"button",25),n.NdJ("click",function(){n.CHM(t);const c=n.oxw();return n.KtG(c.navidateToDetails())}),n._uU(2,"More Details"),n.qZA()()}}function T(o,s){1&o&&(n.TgZ(0,"span"),n._uU(1,"xx.xx"),n.qZA())}function L(o,s){if(1&o&&(n.TgZ(0,"span"),n._uU(1),n.ALo(2,"number"),n.qZA()),2&o){const t=n.oxw();n.xp6(1),n.Oqu(n.xi3(2,1,null==t.conversionInfo?null:t.conversionInfo.rate,"0.2-6"))}}const f=function(){return{width:"100%"}},D=function(o){return{opacity:o}};let S=(()=>{class o{constructor(t,e,c,b,U){this.formBuilder=t,this.http=e,this.activeRoute=c,this.router=b,this.dataSharingService=U,this.context="home",this.symbolsList={},this.conversionQuery=null,this.conversionInfo=null,this.conversion=null,this.exchangeForm=this.formBuilder.group({amount:[1,[a.kI.required,a.kI.min(.01)]],from:["EUR",a.kI.required],to:["USD",a.kI.required]})}ngOnInit(){this.activeRoute.params.subscribe(t=>{t.hasOwnProperty("from")&&t.hasOwnProperty("to")?(this.exchangeForm.patchValue({from:t.from,to:t.to}),this.dataSharingService.sendExchangeFormValueChange(this.exchangeForm.getRawValue()),this.from.disable()):this.from.enable()}),this.dataSharingService.notifyAmountChange&&this.exchangeForm.patchValue({amount:this.dataSharingService.notifyAmountChange}),this.exchangeForm.valueChanges.subscribe(t=>{this.conversion=null,this.conversionInfo=null,this.conversionQuery=null,this.dataSharingService.sendExchangeFormValueChange(this.exchangeForm.getRawValue())}),this.symbolsList=this.dataSharingService.symbols,this.dataSharingService.symbols||this.http.get("symbols").subscribe(t=>{t&&t?.success&&(this.symbolsList=t.symbols,this.dataSharingService.symbols=this.symbolsList,this.dataSharingService.sendExchangeFormValueChange(this.exchangeForm.value))})}convert(){const t=this.exchangeForm.getRawValue(),e=`convert?to=${t.to}&from=${t.from}&amount=${t.amount}`;this.dataSharingService.sendConversionRequestSentNotification(t),this.http.get(e).subscribe(c=>{c&&c?.success&&(this.conversionInfo=c.info,this.conversion=c,this.conversionQuery=c.query)})}swapCurrencies(){if(this.exchangeForm.valid){const t=this.exchangeForm.getRawValue();this.exchangeForm.patchValue({from:t.to,to:t.from})}}get amount(){return this.exchangeForm.controls.amount}get from(){return this.exchangeForm.controls.from}get to(){return this.exchangeForm.controls.to}get detailsUrl(){return`/details/${this.from.value}/${this.to.value}`}navidateToDetails(){this.exchangeForm.controls.amount.valid&&(this.dataSharingService.notifyAmountChange=this.exchangeForm.controls.amount.value),this.router.navigate([this.detailsUrl])}}return o.\u0275fac=function(t){return new(t||o)(n.Y36(a.qu),n.Y36(m.O),n.Y36(l.gz),n.Y36(l.F0),n.Y36(_.j))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-currency-converter-form"]],inputs:{context:"context"},decls:56,vars:33,consts:[[3,"formGroup"],["fxFlex","","fxLayout","row","fxLayout.lt-md","column","fxLayoutGap","20px",1,"component-container"],["fxFlex.lt-md","99%","fxFlex","40","fxLayout","column"],["fxFlex",""],["appearance","fill","floatLabel","always","fxFlex",""],["matInput","","type","number","placeholder","0","formControlName","amount",1,"right-align"],["matTextPrefix","",1,"pre-fix"],["fxHide.lt-md","",1,"separator"],["fxFlex","","fxLayoutAlign","center center","fxHide.lt-md",""],[4,"ngIf"],["fxFlex.lt-md","99%","fxFlex","60","fxLayout","column"],["fxFlex","","fxLayout","row","fxLayout.lt-sm","column","fxLayoutAlign","center center","fxLayoutGap","20px"],["fxFlex","",3,"ngStyle.lt-md"],["appearance","fill","fxFlex",""],["formControlName","from",3,"disabled"],[3,"value",4,"ngFor","ngForOf"],[3,"ngStyle","click"],["formControlName","to",3,"disabled"],[2,"margin-bottom","20px"],["fxFlex","","mat-raised-button","","color","primary",3,"disabled","click"],["fxFlex","","fxLayout","row","fxLayout.lt-md","column","fxLayoutAlign","center center","fxLayoutGap","20px"],["fxFlex","","fxLayoutAlign","center center",1,"result-card",3,"ngStyle.lt-md"],["fxFlex","",4,"ngIf"],["fxFlex","","fxLayoutAlign","center center","fxShow.lt-md","","fxHide.md","","fxHide.gt-md",""],[3,"value"],["fxFlex","","mat-raised-button","","color","primary",3,"click"]],template:function(t,e){1&t&&(n.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-form-field",4)(5,"mat-label"),n._uU(6,"Amount"),n.qZA(),n._UZ(7,"input",5),n.TgZ(8,"span",6),n._uU(9,"\xa0"),n.qZA()()(),n.TgZ(10,"div",7),n._uU(11,"-"),n.qZA(),n.TgZ(12,"div",8)(13,"p")(14,"span"),n._uU(15,"1.00"),n.qZA(),n._uU(16),n.YNc(17,O,2,0,"span",9),n.YNc(18,E,3,4,"span",9),n._uU(19),n.qZA()()(),n.TgZ(20,"div",10)(21,"div",11)(22,"div",12)(23,"mat-form-field",13)(24,"mat-label"),n._uU(25,"From"),n.qZA(),n.TgZ(26,"mat-select",14),n.YNc(27,M,2,2,"mat-option",15),n.ALo(28,"keyvalue"),n.qZA()()(),n.TgZ(29,"div")(30,"mat-icon",16),n.NdJ("click",function(){return e.swapCurrencies()}),n._uU(31,"swap_horiz"),n.qZA()(),n.TgZ(32,"div",12)(33,"mat-form-field",13)(34,"mat-label"),n._uU(35,"To"),n.qZA(),n.TgZ(36,"mat-select",17),n.YNc(37,P,2,2,"mat-option",15),n.ALo(38,"keyvalue"),n.qZA()()()(),n.TgZ(39,"div",18)(40,"button",19),n.NdJ("click",function(){return e.convert()}),n._uU(41,"Convert"),n.qZA()(),n.TgZ(42,"div",20)(43,"div",21)(44,"h2"),n._uU(45),n.ALo(46,"number"),n.qZA()(),n.YNc(47,A,3,0,"div",22),n.qZA(),n.TgZ(48,"div",23)(49,"p")(50,"span"),n._uU(51,"1.00"),n.qZA(),n._uU(52),n.YNc(53,T,2,0,"span",9),n.YNc(54,L,3,4,"span",9),n._uU(55),n.qZA()()()()()),2&t&&(n.Q6J("formGroup",e.exchangeForm),n.xp6(16),n.hij(" ",null==e.from?null:e.from.value," = "),n.xp6(1),n.Q6J("ngIf",!e.conversionInfo),n.xp6(1),n.Q6J("ngIf",e.conversionInfo),n.xp6(1),n.hij(" ",null==e.to?null:e.to.value,""),n.xp6(3),n.Q6J("ngStyle.lt-md",n.DdM(28,f)),n.xp6(4),n.Q6J("disabled",!e.amount.valid),n.xp6(1),n.Q6J("ngForOf",n.lcZ(28,21,e.symbolsList)),n.xp6(3),n.Q6J("ngStyle",n.VKq(29,D,e.amount.valid?1:.5)),n.xp6(2),n.Q6J("ngStyle.lt-md",n.DdM(31,f)),n.xp6(4),n.Q6J("disabled",!e.amount.valid),n.xp6(1),n.Q6J("ngForOf",n.lcZ(38,23,e.symbolsList)),n.xp6(3),n.Q6J("disabled",!e.exchangeForm.valid),n.xp6(3),n.Q6J("ngStyle.lt-md",n.DdM(32,f)),n.xp6(2),n.AsE("",n.xi3(46,25,null!=e.conversion&&e.conversion.result?null==e.conversion?null:e.conversion.result:0,"0.2-6")," ",null==e.to?null:e.to.value,""),n.xp6(2),n.Q6J("ngIf","home"===e.context),n.xp6(5),n.hij(" ",null==e.from?null:e.from.value," = "),n.xp6(1),n.Q6J("ngIf",!e.conversionInfo),n.xp6(1),n.Q6J("ngIf",e.conversionInfo),n.xp6(1),n.hij(" ",null==e.to?null:e.to.value,""))},dependencies:[i.sg,i.O5,i.PC,x.ey,d.lW,C.Hw,p.KE,p.hX,y.Nt,F.gD,g.xw,g.SQ,g.Wh,g.yH,v.b8,v.Zl,a._Y,a.Fj,a.wV,a.JJ,a.JL,a.sg,a.u,i.JJ,i.Nd],styles:[".component-container[_ngcontent-%COMP%]{border:1px solid gray;padding:14px}.component-container[_ngcontent-%COMP%]   .result-card[_ngcontent-%COMP%]{border:1px solid;border-radius:5px}.component-container[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{opacity:0;height:37px;margin-bottom:20px}.component-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{border:1px solid;padding:6px}.component-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%] + mat-form-field[_ngcontent-%COMP%]{margin-left:8px}.component-container[_ngcontent-%COMP%]   .right-align[_ngcontent-%COMP%]{text-align:right}.component-container[_ngcontent-%COMP%]   input.right-align[_ngcontent-%COMP%]::-webkit-outer-spin-button, .component-container[_ngcontent-%COMP%]   input.right-align[_ngcontent-%COMP%]::-webkit-inner-spin-button{display:none}.component-container[_ngcontent-%COMP%]   input.right-align[_ngcontent-%COMP%]{-moz-appearance:textfield}.component-container[_ngcontent-%COMP%]   .pre-fix[_ngcontent-%COMP%]{position:absolute;top:4px;left:0}"]}),o})()},2227:(h,u,r)=>{r.d(u,{j:()=>m});var a=r(7579),n=r(4650);let m=(()=>{class l{constructor(){this.notifyAmountChange=null,this.symbols=null,this.notifyExchangeFormValueChange=new a.x,this.notifyConversionRequestSent=new a.x}getExchangeFormValueChange(){return this.notifyExchangeFormValueChange.asObservable()}sendExchangeFormValueChange(i){return this.notifyExchangeFormValueChange.next(i)}sendConversionRequestSentNotification(i){return this.notifyConversionRequestSent.next(i)}getConversionRequestSentNotification(){return this.notifyConversionRequestSent.asObservable()}}return l.\u0275fac=function(i){return new(i||l)},l.\u0275prov=n.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},8824:(h,u,r)=>{r.d(u,{O:()=>m});var a=r(4650),n=r(529);let m=(()=>{class l{constructor(i){this.http=i}get(i){return this.http.get(`${i}`)}}return l.\u0275fac=function(i){return new(i||l)(a.LFG(n.eN))},l.\u0275prov=a.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()}}]);